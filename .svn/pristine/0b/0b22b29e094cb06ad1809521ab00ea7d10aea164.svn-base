<?php

namespace App\Filters;

use App\Filters\Filter;

class EmpWorkStatusRefFilter extends Filter
{
    /**
     *filter properties
     */
    protected $filters = [
        'filter' => [
            'txtDeptCd',
            'ddlStartCompany',
            'ddlEndCompany',
            'txtEmpCd',
            'ckWorkd',
            'ckPadh',
            'ckPadbh',
            'ckPadah',
            'ckCompd',
            'ckCompbd',
            'ckCompad',
            'ckSpch',
            'ckAbcd',
            'ckDirg',
            'ckDirr',
            'ckDirqr',
            'ckBusj',
            'ckDelay'
        ]
    ];


    // /**
    //  * ddlTargetYear で検索.
    //  */
    // public function ddlTargetYear($value, Request $request)
    // {
    //     $inputEmpData = $request->all();
    //     $inputYear = $inputEmpData['ddlTargetYear'];
    //     $this->builder->where('TR01_WORK.CALD_YEAR', $inputYear.'%');
    // }

    // /**
    //  * ddlTargetMonth で検索.
    //  */
    // public function ddlTargetMonth($value, Request $request)
    // {
    //     $inputEmpData = $request->all();
    //     $inputMonth = date('m', $inputEmpData['ddlTargetMonth']);
    //     $this->builder->where('TR01_WORK.CALD_YEAR', $inputMonth.'%');
    // }

    // /**
    //  * ddlTargetDay で検索.
    //  */
    // public function ddlTargetDay($value, Request $request)
    // {
    //     $inputEmpData = $request->all();
    //     $inputDay = date('d', $inputEmpData['ddlTargetDay']);
    //     $this->builder->where('TR01_WORK.CALD_YEAR', $inputDay.'%');
    // }

    public function txtDeptCd($value)
    {
        if (!empty($value)) {
            $this->builder->where('MT10_EMP.DEPT_CD', $value);
        }
    }

    /**
     * ddlStartCompany で検索.
     * 検索データがなければスキップ
     */
    public function ddlStartCompany($value)
    {
        if (!empty($value)) {
            $this->builder->where('MT10_EMP.COMPANY_CD', '>=', $value);
        }
    }

    /**
     * ddlEndCompany で検索.
     * 検索データがなければスキップ
     */
    public function ddlEndCompany($value)
    {
        if (!empty($value)) {
            $this->builder->where('MT10_EMP.COMPANY_CD', '<=', $value);
        }
    }

    public function txtEmpCd($value)
    {
        if (!empty($value)) {
            $this->builder->where('MT10_EMP.REG_CLS_CD','<>','02')
                            ->where('TR01_WORK.EMP_CD', $value);
        }
    }

    public function ckWorkd($value)
    {
        if (!empty($value)) {
            $this->builder->where('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckPadh($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckPadbh($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckPadah($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckCompd($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckCompbd($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckCompad($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckSpch($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckAbcd($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckDirg($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckDirr($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckDirqr($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckBusj($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }

    public function ckDelay($value)
    {
        if (!empty($value)) {
            $this->builder->orwhere('TR01_WORK.REASON_CD', $value);
        }
    }
}
